---
Title: Модули карт Google
Weight: 290
---

:author: likhobory
:email: likhobory@mail.ru


:toc:
:toc-title: Оглавление

:experimental:   

:imagesdir: /images/ru/user/JJWMaps   

ifdef::env-github[:imagesdir: ./../../../master/static/images/ru/user/JJWMaps]

:btn: btn:

ifdef::env-github[:btn:]

= Модули карт Google

В SuiteCRM интегрированы модули, позволяющие геокодировать адреса, введённые в систему и отображать полученные данные на 
картах Google. Также возможно отображение произвольных участков карт и меток.

image:image1.png[Модули карт Google]

Поддерживается геокодирование адресов, содержащихся в следующих модулях: Контакты, Контрагенты, Предварит. контакты, Сделки, Встречи, Адресаты, Обращения и Проекты.

== Карты

{{% notice note %}}
Для работы с модулем карт в системе должен быть установлен ключ Google Maps API, как это описано в разделе 
link:../../admin/administration-panel/google-maps[Настройка карт Google].
{{% /notice %}}

Модуль позволяет отобразить на карте присутствующие в SuiteCRM адресные данные. На карте отображаются объекты, расположенные на указанном удалении от центральной точки. Для создания карты в меню модуля выберите пункт *Добавить новую карту*. 

[discrete]
==== На странице введите следующую информацию: 

image:image2.png[Модули карт Google]

Название:: Укажите название создаваемой карты
Показать На карте адрес (центр):: Выберите запись, адрес которой будет центром круга. В дальнейшем на карте будут отображены объекты, находящиеся на площади круга.
Отображать на карте объекты:: Выберите объекты, которые будут отображаться на карте. Объект могут быть только одного типа, например *Контакты*, *Контрагенты* и т.д.
Единицы измерения расстояния:: Выберите необходимую единицу измерения.
Отображать объекты, находящиеся в радиусе:: Отображение объектов  в указанном радиусе круга.
Ответственный(ая):: Введите имя ответственного за сделку. По умолчанию ответственным являетесь вы. Для назначения другого пользователя нажмите кнопку   и из появившегося списка выберите желаемого пользователя. 
Описание:: Введите короткое описание создаваемой карты.

{{% notice note %}}
При необходимости вы можете добавить отображённые объекты в тот или иной список адресатов, воспользовавшись соответствующей кнопкой, расположенной в нижней части карты под списком отображённых адресов.
{{% /notice %}}

=== Отображение произвольного адреса на карте

При необходимости на карте могут быть отображены объекты, не привязанные к центральной точке, адрес которой уже есть в базе системы. Можно указать произвольный адрес, после чего система произведёт его геокодирование и покажет все однотипные объекты в указанном радиусе. Для этого в меню модуля *Карты* выберите пункт *Отобразить объекты*, заполните необходимые поля и нажмите кнопку {btn}[Запустить].

image:image3.png[Модули карт Google]

=== Отображение участка карты в дашлете

При необходимости произвольные участки карт могут быть отображены в дашлетах. Для этого:

 .	Воспользуйтесь функцией *Отобразить объекты* как это описано выше.
 .	В нижней части отображённой карты появится ссылка вида *IFrame:URL* - скопируйте её адрес через контекстное меню браузера.
 .	Перейдите на основную закладку SuiteCRM и нажмите на кнопку {btn}[Добавить дашлет].
 
image:image4.png[Добавление участка карты в дашлет]

[start=4] 
 .	На закладке *Веб* окна настроек дашлета вставьте только что скопированную ссылку и нажмите кнопку {btn}[Добавить].
 .	Для полного отображения участка карты рекомендуется в параметрах созданного дашлета задать высоту окна не менее 600 пикселей.

image:image5.png[Отображение участка карты в дашлете]


== Метки

Модуль позволяет отобразить на карте выбранные из предлагаемого списка метки. 

image:image6.png[Метки]


Для создания метки  выполните следующее: ::
 .	В меню модуля *Метки* выберите пункт *Добавить метку*. Также метку можно добавить на ранее созданную карту, воспользовавшись 
link:../introduction/user-interface/views/#_субпанели[субпанелью] *Метки* в Форме просмотра карты. 
 .	Из списка меток выберите подходящую и разместите её на карте. При перемещении метки по карте автоматически определяются её географические координаты и ориентировочный адрес расположения.
 .	Заполните необходимые поля  и нажмите на кнопку {btn}[Сохранить].


== Участки карт

Модуль позволяет пометить на карте произвольный участок местности. 

image:image7.png[Участки карт]

Для создания участка выполните следующее: ::

 .	 В меню модуля *Участки карт* выберите пункт *Создать участок*. Также участок можно добавить на ранее созданную карту, воспользовавшись 
link:../introduction/user-interface/views/#_субпанели[субпанелью] *Участки карт* в Форме просмотра карты.
 .	На выбранном участке карты  поставьте метки, для завершения создания участка нажмите на первой установленной метке. При необходимости площадь созданного участка можно изменить, перемещая метки участка по карте, при этом автоматически определяются их географические координаты. Воспользуйтесь кнопкой {btn}[Сбросить], если необходимо создать участок заново.
 .	По окончании создания участка нажмите на кнопку {btn}[Использовать координаты участка карты].
 .	Заполните необходимые поля  и нажмите на кнопку {btn}[Сохранить].


== Кэш адресов

При большом количестве записей в системе геокодирование адресов может занять продолжительное время. Поэтому все геокодированные данные сохраняются в отдельном кэше и при следующем геокодировании обрабатываются лишь адреса, отсутствующие в кэше. Модуль предназначен для просмотра/изменения кэша геокодированных адресов.  

image:image8.png[Кэш адресов]

Процесс геокодирования может быть настроен администратором SuiteCRM и детально описан в разделе 
link:../../admin/administration-panel/google-maps/#_геокодирование_адресов[Геокодирование адресов].
Здесь же при необходимости может быть осуществлён импорт геокодированных адресов, выполненный во внешнем приложении. Для этого в меню действий модуля выберите пункт *Импорт* и следуйте указаниям мастера импорта.

== Управление записями в модулях карт

В модулях карт вы можете выполнять следующие действия:

*	Сортировка списка записей, для этого нажмите на значок   в заголовке сортируемого столбца, для обратной сортировки нажмите на значок ещё раз. 
*	Добавление записи в избранное –  после чего пользователь получает возможность быстрого доступа к наиболее важной для него информации. За дополнительной информацией  обратитесь к разделу link:../introduction/user-interface/navigation-elements/#_избранное[Избранное].
*	Редактирование или удаление информации сразу о нескольких записях,  для этого используйте link:../introduction/user-interface/record-management/#_массовое_обновление_записей[панель массового обновления].
*	link:../introduction/user-interface/record-management/#_экспорт_данных[Экспорт] записей, для этого в меню над выбранными записями выберите пункт *Экспортировать*.
*	Просмотр детальной информации о записи, для этого нажмите на названии записи в общем списке.
*	Редактирование данных, для этого  либо в Форме просмотра нажмите на кнопку {btn}[Править], либо непосредственно в Форме списка нажмите на кнопку   слева от редактируемой записи. Вы также можете выполнить link:../introduction/user-interface/in-line-editing/[быструю правку].
*	Дублирование записи, для этого в меню действий выберите пункт {btn}[Дублировать]. Дублирование является удобным способом быстрого создания схожих записей, вы можете изменить продублированную информацию с целью создания новой записи.
*	Удаление записи, для этого нажмите на кнопку {btn}[Удалить]. 
*	Отслеживание изменений введённой информации, для этого нажмите на кнопку {btn}[Просмотр журнала изменений] в форме просмотра. Если в журнале необходимо изменить перечень контролируемых полей - сделайте это в Студии, настроив параметр link:../../admin/administration-panel/developer-tools/#Audit[*Аудит*] соответствующего поля.
 
